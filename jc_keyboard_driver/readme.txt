2023-02-10
1.建立版本说明
2.02-09 修改了test按键的键值，test按键键灯的对应关系。

3.2023年之前关于防爆面板进行过修改，防爆面板主动上报数据有中断，但是如果是cpu查询设置，单片机要返回数据则不提供中断
	所以在驱动中增加了一个定时器，当没有收到数据的时候，驱动主动去读取一次，这样能缓解按键和灯不响应的问题。
                但是这种方式对有中断的单片机又会造成一些误操作。


2023-02-16
1. 717和fb面板组合键不能识别，但是我们自己的组合键是能正常识别的。
2. 发现驱动没有对上报多个键的字节进行解析，修改了相关的驱动程序。

2023-04-27
1.适配防爆面板


2023-05-10
1.控制打印信息的输出，使用debug_print参数变量，insmod jc_keyboard.ko debug_print=1 则会输出按键的打印信息
2.增加驱动的编译时间信息，需要修改内核的makefile  注释 886 KBUILD_CFLAGS   += $(call cc-option,-Werror=date-time)
   使用modinfo 可以看到这些信息了。
3.增加驱动的版本信息，1.1.0 ，同样在modinfo中可以看到。
4.这些信息将用于在qt上展示版本，方便之后的升级，验证等工作。



2023-05-29
1.增加更多的打印信息，把发送的和接收的都打印出来。
2.对iic的操作加上互斥锁。
3.使用自己创建的工作队列处理iic中断。
4.对一次完整的iic发送应答进行互斥锁加锁，应对多线程时，出现的超时问题，已经基本解决
5.对中断的返回进行识别，只有收到对应的消息才认可返回有效，否则认为返回无效。（set_bit,clear_bit,test_bit）.
6.对于键值16和键值43的处理，16键值现在被忽略，改为43（722-自定义编号）键值（摘挂键）。


2023-07-20
1.发现驱动中有部分错误提示不正常的问题，主要是位判断的时候复制导致的，发现并没有一一对应，目前已经修改了。
2.应用层报“系统打开文件过多”的错误，发现是驱动的返回值乱设置导致。应用拿到返回值，在系统中对应“系统打开文件过多”
 实际并不是该故障。目前已经把错误返回值改为-1；





